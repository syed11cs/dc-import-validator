{
  "schema_version": "1.0",
  "rules": [
    {
      "rule_id": "check_min_value",
      "description": "Checks that the minimum value for each StatVar is not below 0.",
      "validator": "MIN_VALUE_CHECK",
      "scope": {
        "data_source": "stats"
      },
      "params": {
        "minimum": 0
      }
    },
    {
      "rule_id": "check_num_observations",
      "description": "Checks that each StatVar has at least one observation.",
      "validator": "NUM_OBSERVATIONS_CHECK",
      "scope": {
        "data_source": "stats"
      },
      "params": {
        "minimum": 1
      }
    },
    {
      "rule_id": "check_unit_consistency",
      "description": "Checks that the unit is consistent across all StatVars.",
      "validator": "UNIT_CONSISTENCY_CHECK",
      "scope": {
        "data_source": "stats"
      },
      "params": {}
    },
    {
      "rule_id": "check_scaling_factor_consistency",
      "description": "Checks that the scaling factor is consistent across all StatVars.",
      "validator": "SQL_VALIDATOR",
      "scope": {
        "data_source": "stats"
      },
      "params": {
        "query": "SELECT StatVar, ScalingFactors FROM stats",
        "condition": "ScalingFactors = (SELECT ScalingFactors FROM stats LIMIT 1)"
      }
    },
    {
      "rule_id": "check_max_date_latest",
      "description": "Checks that the latest date in the stats summary is from the current year.",
      "validator": "MAX_DATE_LATEST",
      "scope": { "data_source": "stats" },
      "params": {}
    },
    {
      "rule_id": "check_max_date_consistent",
      "description": "Checks if the MaxDate is the same for all StatVars.",
      "validator": "MAX_DATE_CONSISTENT",
      "scope": { "data_source": "stats" },
      "params": {}
    },
    {
      "rule_id": "check_num_places_consistent",
      "description": "Checks if the number of places is the same for all StatVars.",
      "validator": "NUM_PLACES_CONSISTENT",
      "scope": { "data_source": "stats" },
      "params": {}
    },
    {
      "rule_id": "check_num_places_count",
      "description": "Checks that each StatVar has at least one place.",
      "validator": "NUM_PLACES_COUNT",
      "scope": { "data_source": "stats" },
      "params": { "minimum": 1 }
    },
    {
      "rule_id": "check_max_value_percent",
      "description": "Checks that the maximum value for percentage StatVars is not above 100.",
      "validator": "MAX_VALUE_CHECK",
      "scope": {
        "data_source": "stats",
        "variables": { "regex": [".*Percent.*"] }
      },
      "params": { "maximum": 100 }
    },
    {
      "rule_id": "check_missing_refs_count",
      "description": "Fails if missing reference count in the lint report exceeds the threshold.",
      "validator": "MISSING_REFS_COUNT",
      "scope": { "data_source": "lint" },
      "params": { "threshold": 0 }
    },
    {
      "rule_id": "check_structural_lint_error_count",
      "description": "Fails if structural (non-resolution) lint errors exist in the import tool report (schema/MCF issues).",
      "validator": "STRUCTURAL_LINT_ERROR_COUNT",
      "scope": {
        "data_source": "lint"
      },
      "params": {
        "threshold": 0
      }
    }
  ]
}